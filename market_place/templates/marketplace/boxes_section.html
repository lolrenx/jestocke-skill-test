<section
  id="table-section"
  hx-trigger="refreshTableSection"
  hx-target="#table-section"
  hx-swap="outerHTML"
  hx-get="{% url 'marketplace:main' %}"
  hx-select="#table-section"
>

  {% include 'base/messages.html' %}

  <form
    class="m-4 flex flex-row items-center gap-4"
    hx-trigger="change delay:100ms"
    hx-get="{% url 'marketplace:main' %}"
    hx-include="[name='start_date'], [name='end_date']"
    hx-push-url="true"
    method="get">
    <dl class="overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6 flex flex-row gap-4 items-center">
      <span class="flex flex-col gap-4">
        <div class="flex flex-rox items-center gap-4">
          {{ filter.form.as_p }}
        </div>
        <p>
          <label for="start-date">Available dates</label>
          <input type="date" name="start_date" id="start-date" value="{{ start_date }}"
                 class="input input-bordered input-sm">
          -
          <input type="date" name="end_date" id="end-date" value="{{ end_date }}"
                 class="input input-bordered input-sm">
        </p>
      </span>


      <dt class="truncate text-sm font-medium text-gray-500">Found:</dt>
      <dd class="mt-1 text-3xl font-semibold tracking-tight text-gray-900">{{ filter.qs.count }}</dd>
    </dl>
    <span class="tooltip" data-tip="reset filters">
      <a href="{% url 'marketplace:main' %}" class="btn btn-ghost">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-filter-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
          <path d="M13.758 19.414l-4.758 1.586v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v1.5"></path>
          <path d="M22 22l-5 -5"></path>
          <path d="M17 22l5 -5"></path>
        </svg>
      </a>
    </span>
  </form>

  {% include 'marketplace/boxes_list.html' %}

</section>
